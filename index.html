<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FormAPI</title>

    <style>
        .f{
            text-align: center;
            margin-top: 50px;
        }

        label{
            font-weight: bold;
            font-size: 20px;
    
        }

        fieldset{
            width: 300px;
            box-shadow: 7px 7px 7px 7px gray;
            background-color: blue;
        }

    </style>

</head>
<body>
    <div class="f">
    <fieldset>
    <form id="myForm">
    <h1>My Form</h1>
    <p><i>Enter the following info</i></p>
    <label>Username</label><br>
    <input type="text" name="username" id="username" placeholder="Your username" required>
    <br><br>

    <label>Password</label> <br>
    <input type="password" name="password" id="password" placeholder="Your password" required>
    <br><br>

    <button type="submit" id="submit">Submit</button>
    </form>
    </fieldset>
    </div>

    <script>
    document.getElementById("myForm").addEventListener("submit", async (e) => {
     e.preventDefault(); //Prevents page refresh

     const form = {
        username: e.target.username.value,
        password: e.target.password.value,
     };

     const response = await fetch("http://127.0.0.1:5500/api/submit", {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify(form),
     });

     const result = await response.json();
     alert(result.message);

    });
    </script>
    
</body>
</html>